---
layout: post
lang: en
title:  "What are BitShares Market Pegged Assets?"

author_image: "/assets/img/authorimage1.jpg"
author: "Lance Kasper (aka Agent86)"
author_bio: "I'm Lance Kasper "


featured: true
banner_image: "/media/cover_asset.jpg"

categories: article
---


BitShares market pegged assets are a new type of freely traded digital asset whose value is meant to track the value of a conventional asset such as the U.S. dollar or gold.  What makes market pegged assets unique is that they are free from counter party risk.  BitShares uses an advanced decentralized consensus ledger that takes some cues from Bitcoin.  While Bitcoin has demonstrated many useful properties as a currency, its price volatility makes it risky to hold and difficult to use for everyday pricing and payments.  A currency with the properties and advantages of Bitcoin that maintains price parity with a globally adopted currency such as the US dollar has high utility for convenient and censorship resistant commerce.  This paper will explain how market pegged assets including "BitUSD" (intended to track the value of the US dollar) achieve price parity while minimizing risk to holders.

<!--more-->

### Price Stability

Bitcoin and similar crypto-currencies track transferrable digital tokens secured by private cryptographic keys over a decentralized computer network.  A consensus mechanism ensures tokens are not duplicated and all participants agree on the state of the system without need for a central validating authority.  This consensus is recorded on a decentralized shared ledger called a "block chain".  These systems have been found to enable value storage and exchange over the internet beyond the control or censorship of a centralized party.  Demand for this utility has driven up the price of crypto-currencies.  BitShares uses an analogous core token simply called BitShares that is traded with the abbreviation "BTS" on well-known crypto-currency exchanges.  Like Bitcoin, the exchange rate between BTS and major currencies remains volatile.

A BitShares market pegged asset can be viewed as a contract between an asset buyer seeking price stability and a "short seller" seeking greater exposure to BTS price movement.  The open source BitShares software program implements a decentralized marketplace for market pegged assets where all transactions are recorded on the shared block chain ledger and the software enforces the market rules.  This block chain based marketplace is referred to as the "internal market" to distinguish from "external markets" such as websites that facilitate the exchange of government issued currencies with crypto-currency.  A BTS holder may use her BTS to place a buy order on this internal market for her asset of choice.  Market pegged assets are created on the BitShares block chain when a buyer and short seller of an asset are matched at an agreed price.  In exchange for the BTS received from the asset buyer the short seller takes on the obligation of buying back the same quantity of assets in the future from the market.  BTS paid by the asset buyer and additional BTS contributed by the short seller are sequestered as "collateral".   This collateral is only returned to the short seller when assets are purchased back from the market and effectively destroyed to fulfill the contract.  This is referred to as "covering a short."  If the value of the collateral relative to the current price of the market pegged asset falls below a certain margin of safety the assets can be automatically repurchased from the market before collateral becomes insufficient.  These rules create systemic demand for market pegged assets while allowing them to remain fungible.

The rules considered thus far do not specifically restrict the internal exchange rate between BitUSD and BTS in a way that ensures it will track the external exchange rate between USD and BTS.  A first step toward this goal is to get reliable information about the external exchange rate into the internal market algorithm.  It is not immediately obvious how this is accomplished in a way that is resistant to control and manipulation by a central party.  Thankfully, the consensus mechanism used for BitShares utilizes a carefully considered real-time stake-weighted approval voting system to elect "delegates" who are motivated to act in the best interest of the system and its stakeholders.  These delegates run computers on the BitShares network that check and commit broadcasted transactions to the block chain ledger.  The trusted delegates can also be used to input external exchange rates into the block chain so that the software algorithm can incorporate this information into the market rules.  This external exchange rate information is called a "price feed."  Delegates typically combine price information from multiple sources, such as external exchanges, to generate a price feed and update it regularly.  The system takes a median of all price feeds so that manipulation of the price information would be very difficult by any single delegate or party without considerable collusion.  The price feed and other delegate behavior is publically auditable and delegates may be voted out by BTS holders at any time.

It is important to consider how the price feed can be used to regulate the internal market.  Both BTS and market pegged assets are freely transferrable tokens.  If the internal market restricted trading to occur only at the specific exchange rate determined by the median price feed, it would simply encourage anyone willing to trade at a different price to do so outside the system, such as on an external exchange.  However, if we consider that short selling is the mechanism by which new market pegged assets are created, then selectively restricting short selling controls the conditions under which supply is created.  Rather than allow short sellers to sell at any price, short sellers will only execute at a price above the median price feed.  This prevents short sellers from devaluing market pegged assets as new assets are only created when the market demand pushes the price equal to or above parity.  

The price feed functions to regulate creation and destruction of market pegged assets in a way that pushes the market price toward parity.  When a short seller buys back BitUSD and covers their position they are taking BitUSD out of circulation and reducing the total supply.  In fact, the current BitShares market rules force short sellers to cover their position within 30 days of opening the position.  This means that the full amount of outstanding BitUSD must be purchased off the market every 30 days.  Market pegged asset holders have no requirement to sell and therefore short sellers covering their positions are eventually forced to purchase from newly opened short positions at or above the exchange rate.   This is effectively a guarantee to any BitUSD holder that they can sell BitUSD for the dollar equivalent of BTS (determined by price feed) within any 30 day period.

The motivation to participate in the system is different for short sellers and market pegged asset buyers.  Market pegged asset holders are typically looking for predictable value coupled with the properties of a crypto-currency.  Short sellers are typically bullish on the price of BTS and wish to capitalize on increased exposure to market movement relative to the market pegged asset.  If the market value of BTS rises with respect to the asset, the short seller can buy back the asset for significantly less BTS and profit accordingly.  If BTS value falls in relation to the market pegged asset, the short seller faces a greater loss than if they were to have simply held BTS.  Ultimately a short seller may face a "margin call" where his collateral is automatically used repay the obligation.  A margin call is triggered in the current BitShares system whenever collateral contains less than 1.5 times the amount of BTS required to cover the obligation.  The system also charges an additional 5% fee to any short seller subject to a margin call and this fee is intended to motivate short sellers to maintain sufficient collateral.

### Order Matching

Market orders and other signed transactions on the BitShares block chain are grouped into 10 second blocks by delegates.  When buy and sell orders on the internal BitShares' market are matched, the highest buy orders are matched with the lowest sell orders and any BTS contained in the overlap are destroyed so that each party gets exactly what they paid for.  The reason for this is twofold.  Firstly, it prevents high frequency trading that attempts to insert an order between two placed orders to profit from the overlap, this is sometimes called "front running".  It also makes it very costly for a large buyer or seller to quickly move the market by placing a large order far from the current market rate.  Doing so would require the buyer or seller to pay the more expensive rate and lose any overlap with all orders their order is matched with.  The destruction of BTS from the overlap of orders creates value for BTS holders as a whole by making the token more scarce.  When there is significant demand to short sell assets at the price feed rate, the current BitShares system allows short sellers to offer interest to asset holders in exchange for priority in order matching.  In this way, holders of market pegged assets can also collect an additional yield on their savings.

### Risk

The current implementation of market pegged assets in the BitShares system is designed to minimize risk of loss to market pegged asset holders.  Short positions are opened with collateral worth three times the market value of the asset.  The initial collateral is comprised of the BTS paid by the buyer for the asset and twice this amount of BTS contributed by the short seller.   The collateral requirements and margin triggers were chosen conservatively to protect the holders of market pegged assets from volatility of the underlying collateral.   Forcing short positions to cover every 30 days provides additional assurance of short term liquidity.  Control over the price feed is distributed among over 50 separately elected delegates who compile information from multiple exchange sources.  Despite such precautions, it is important to carefully explore risks of using the system.  Risks can be broadly categorized as value risk, counterparty risk, or systemic risk.

#### Collateral Risk:

Market pegged assets maintain their price parity due to being backed by collateral that has an established real world value.  When the value of the collateral falls, the system is designed to react by driving the internal asset exchange to match the new real world exchange rate and trigger margin calls as necessary.  However, there exists a possibility that the underlying collateral (BTS) drops in value so quickly the market pegged assets become under-collateralized.  Often termed a "black swan event," a sudden crash of BTS value could prevent the system from adjusting in time.  In this event, the full amount of collateral is no longer sufficient to purchase the market pegged asset back at the new real exchange rate.  In such an event, assets may trade below their face value.  It is possible the market could recover if BTS regained value.  It is also possible the market would need to be "reset" and asset holders forced to settle for BTS collateral worth less than the intended face value of their assets.  Under normal conditions, short term market movements, spreads, and fees charged by exchanges may also affect the potential cost of conversion into and out of market pegged assets.

#### Counterparty risk:

Unlike many attempts to create a digital asset that tracks the dollar, market pegged asset are not an "I owe you" issued by any entity.  For this reason, it does not rely on a specific counterparty to honor its value.  Although manipulation risk occurs in any market, it is minimized by the open source and auditable nature of the BitShares system and carefully considered market rules.  BitAssets stored on an exchange become IOUs and are subject to counter party risk just like storing bitcoin or bitshares on an exchange.  This risk is not a property of the BitAssets themselves.  We recomend that users never deposit BitAssets on an exchange and instead only use [gateways]({% post_url 2014-12-18-Benefits-of-Being-a-BitShares-Gateway %}) that issue their IOUs onto the BitShares network.  This way you can trade your BitUSD against gateway IOUs without exposing your BitUSD to counter party risk while in the order book.

#### Systemic risk:

Systemic risk is a catch-all for other risks required to utilize the system.  The primary risk is individuals are responsible for protecting the cryptographic private keys that sign transactions proving ownership of assets.  These keys must be protected from theft or loss.  This risk can be greatly reduced and virtually eliminated by following best practices.  Systemic risk also includes the possibility of an overlooked fatal flaw in the open source software or the possibility of large scale failure of global network infrastructure.

### Outlook

BitShares market pegged assets are a viable open source alternative to the incumbent banking system.  Achieving price parity with a commonly used currency facilitates pricing and acceptance by merchants.  Additionally it reduces the need to calculate capital gains and losses on volatile assets to determine tax liability.  While certain risks of the system have been outlined, no system is without risk.  The current banking system allows private funds to be frozen or confiscated without consent, such as by court order or administrative actions.  Banks and financial institutions are susceptible to insolvency.  The availability and quality of banking service varies greatly throughout the world.  BitShares brings publically auditable open source banking to anyone with access to the internet.  Market pegged assets allow savers and spenders to choose preferred asset types.  This brings flexibility and ease of use to the open source banking experience.
